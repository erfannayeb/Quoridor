Index: Quoridor/src/graphics/Controller.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package graphics;\r\n\r\nimport game.Board;\r\nimport game.Player;\r\nimport javafx.fxml.FXML;\r\nimport javafx.scene.control.Label;\r\nimport javafx.scene.control.ListView;\r\nimport javafx.scene.input.MouseEvent;\r\nimport javafx.scene.layout.AnchorPane;\r\nimport javafx.scene.paint.Color;\r\nimport javafx.scene.paint.Paint;\r\nimport javafx.scene.text.Font;\r\nimport load.FileManager;\r\n\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.util.ArrayList;\r\nimport java.util.InputMismatchException;\r\n\r\npublic class Controller {\r\n    private Play play;\r\n    private Board board;\r\n    public void setPlay(Play play) {\r\n        this.play = play;\r\n    }\r\n    public void setBoard(Board board) { this.board = board; }\r\n    // shall be changed game objects\r\n    @FXML protected AnchorPane game_pane;\r\n    @FXML protected Label player1info;\r\n    @FXML protected Label player2info;\r\n    @FXML protected AnchorPane table;\r\n    @FXML protected AnchorPane bead1;\r\n    @FXML protected AnchorPane bead2;\r\n    // game methods\r\n    @FXML\r\n    protected void gotoNewGame() throws IOException { play.gotoFXML(\"game.fxml\"); board = new Board(); initializeGame(); }\r\n    @FXML\r\n    protected void gotoGame() throws IOException { play.gotoFXML(\"game.fxml\"); initializeGame(); }\r\n\r\n    protected void initializeGame() {\r\n        // creating the board\r\n        table = (AnchorPane)(play.getScene().lookup(\"#table\"));\r\n        game_pane = (AnchorPane)(play.getScene().lookup(\"#game_pane\"));\r\n        final double NARROW = 10, THICK = 40;\r\n\r\n        int y = 0;\r\n        for (int i = 0; i < 17; ++i) {\r\n            int x = 0;\r\n            for (int j = 0; j < 17; j++) {\r\n                String id = \"cell\" + ((i < 10)? \"0\" + i : i) + ((j < 10)? \"0\" + j : j);\r\n                AnchorPane cell = new AnchorPane();\r\n                cell.setId(id);\r\n\r\n                cell.setLayoutX(x);\r\n                cell.setLayoutY(y);\r\n                if (i % 2 == 0)\r\n                    cell.setPrefHeight(THICK);\r\n                else {\r\n                    cell.setPrefHeight(NARROW);\r\n                }\r\n                if (j % 2 == 0) {\r\n                    if (i % 2 == 0)\r\n                        cell.setStyle(\"-fx-background-color: maroon\");\r\n                    else\r\n                        cell.setStyle(\"-fx-background-color: chocolate\");\r\n                    cell.setPrefWidth(THICK);\r\n                    x += THICK;\r\n                }\r\n                else {\r\n                    if (i % 2 == 1)\r\n                        cell.setStyle(\"-fx-background-color: firebrick\");\r\n                    else\r\n                        cell.setStyle(\"-fx-background-color: chocolate\");\r\n                    cell.setPrefWidth(NARROW);\r\n                    x += NARROW;\r\n                }\r\n                // add functionality\r\n                cell.setOnMouseClicked(this::BeadMover);\r\n                if (((j % 2 == 0 && i % 2 == 1) || (j % 2 == 1 && i % 2 == 0)) && i != 16 && j != 16) {\r\n                    cell.setOnMouseEntered(this::canPlace);\r\n                    cell.setOnMouseExited(this::baseColor);\r\n                }\r\n                else if (cell.getStyle().equals(\"-fx-background-color: maroon\")) {\r\n                    cell.setOnMouseEntered(this::canMove);\r\n                    cell.setOnMouseExited(this::baseColor);\r\n                }\r\n\r\n                table.getChildren().add(cell);\r\n            }\r\n            if (i % 2 == 0)\r\n                y += THICK;\r\n            else\r\n                y += NARROW;\r\n        }\r\n        // initialize the beads\r\n        {\r\n            bead1 = new AnchorPane();\r\n            bead1.setPrefSize(THICK, THICK);\r\n            int x1 = board.getPlayer1().getBead().getX();\r\n            int y1 = board.getPlayer1().getBead().getY();\r\n            String id1 = \"#cell\" + ((y1 < 10) ? \"0\" + y1 : y1) + ((x1 < 10) ? \"0\" + x1 : x1);\r\n            bead1.setLayoutX(play.getScene().lookup(id1).getLayoutX());\r\n            bead1.setLayoutY(play.getScene().lookup(id1).getLayoutY());\r\n\r\n            bead2 = new AnchorPane();\r\n            bead2.setPrefSize(THICK, THICK);\r\n            int x2 = board.getPlayer2().getBead().getX();\r\n            int y2 = board.getPlayer2().getBead().getY();\r\n            String id2 = \"#cell\" + ((y2 < 10) ? \"0\" + y2 : y2) + ((x2 < 10) ? \"0\" + x2 : x2);\r\n            bead2.setLayoutX(play.getScene().lookup(id2).getLayoutX());\r\n            bead2.setLayoutY(play.getScene().lookup(id2).getLayoutY());\r\n            // adding style\r\n            bead1.setStyle(\"-fx-background-size: 40 40;\" +\r\n                    \"-fx-background-radius: 40;\" +\r\n                    \"-fx-border-radius: 40;\" +\r\n                    \"-fx-background-color: royalblue\");\r\n\r\n            bead2.setStyle(\"-fx-background-size: 40 40;\" +\r\n                    \"-fx-background-radius: 40;\" +\r\n                    \"-fx-border-radius: 40;\" +\r\n                    \"-fx-background-color: limegreen\");\r\n            // add to the table\r\n            table.getChildren().addAll(bead1, bead2);\r\n        }\r\n        // initialize the labels\r\n        {\r\n            // initialize player1's label\r\n            player1info = new Label(board.getPlayer1().getName() + '\\t' + \"Remaining Walls: \" + board.getWall().getPlayer1_walls());\r\n            player1info.setId(\"player1info\");\r\n            player1info.setTextFill(Color.ROYALBLUE);\r\n            player1info.setLayoutY(0);\r\n            player1info.setPrefSize(520, 45);\r\n            // initialize player2's label\r\n            player2info = new Label(board.getPlayer2().getName() + '\\t' + \"Remaining Walls: \" + board.getWall().getPlayer2_walls());\r\n            player2info.setId(\"player2info\");\r\n            player2info.setTextFill(Color.LIMEGREEN);\r\n            player2info.setLayoutY(45);\r\n            player2info.setPrefSize(520, 45);\r\n            // add to scene\r\n            game_pane.getChildren().addAll(player1info, player2info);\r\n        }\r\n    }\r\n    @FXML\r\n    protected void BeadMover(MouseEvent event) {\r\n        int index = Integer.parseInt(((AnchorPane) event.getSource()).getId().substring(4));\r\n        int x = index % 100, y = index / 100;\r\n        try {\r\n            this.board.move(x, y);\r\n            // move the on-screen bead\r\n            AnchorPane clicked = (AnchorPane) event.getSource();\r\n            AnchorPane bead = (board.getTurn().getId() == 'U') ? bead2 : bead1;\r\n\r\n            bead.setLayoutX(clicked.getLayoutX());\r\n            bead.setLayoutY(clicked.getLayoutY());\r\n        } catch (InputMismatchException exception) {\r\n            // get label's current status\r\n            Label player_info = (board.getTurn().getId() == 'U') ? player1info : player2info;\r\n            String info = player_info.getText();\r\n            Paint textFill = player_info.getTextFill();\r\n            // change it\r\n            player_info.setFont(new Font(player_info.getFont().getStyle(), 20));\r\n            player_info.setTextFill(Color.RED);\r\n            player_info.setText(exception.getMessage().toUpperCase());\r\n            // wait and return to previous status\r\n            try { Thread.sleep(1000); } catch (InterruptedException e) { e.printStackTrace(); }\r\n            player_info.setFont(new Font(player_info.getFont().getStyle(), 16));\r\n            player_info.setTextFill(textFill);\r\n            player_info.setText(info);\r\n        }\r\n        win();\r\n    }\r\n    @FXML\r\n    protected void canMove(MouseEvent event) {\r\n        int index = Integer.parseInt(((AnchorPane)event.getSource()).getId().substring(4));\r\n        int x = index % 100, y = index / 100;\r\n        if (board.canMove(x, y))\r\n            if (board.getTurn().getId() == 'U')\r\n                ((AnchorPane) event.getSource()).setStyle(\"-fx-background-color: deepskyblue\");\r\n            else\r\n                ((AnchorPane) event.getSource()).setStyle(\"-fx-background-color: lawngreen\");\r\n        else\r\n            ((AnchorPane) event.getSource()).setStyle(\"-fx-background-color: red\");\r\n    }\r\n    @FXML\r\n    protected void canPlace(MouseEvent event) {\r\n        int index = Integer.parseInt(((AnchorPane)event.getSource()).getId().substring(4));\r\n        int x = index % 100, y = index / 100;\r\n        String color = \"-fx-background-color: \";\r\n        String id1 = \"#cell\";\r\n        String id2 = \"#cell\";\r\n        if (y % 2 == 1) {\r\n            String y_value = ((y < 10) ? \"0\" + y : y).toString();\r\n            id1 += y_value + ((x + 1 < 10) ? \"0\" + (x + 1) : x + 1);\r\n            id2 += y_value + ((x + 2 < 10) ? \"0\" + (x + 2) : x + 2);\r\n        }\r\n        else {\r\n            String x_value = ((x < 10) ? \"0\" + x : x).toString();\r\n            id1 += ((y + 1 < 10) ? \"0\" + (y + 1) : y + 1) + x_value;\r\n            id2 += ((y + 2 < 10) ? \"0\" + (y + 2) : y + 2) + x_value;\r\n        }\r\n        // todo: merge the function\r\n\t\tif (board.canPlaceWall(x, y))\r\n\t\t\tcolor += \"cornflowerblue\";\r\n\t\telse\r\n        color += \"orangered\";\r\n\r\n        ((AnchorPane) event.getSource()).setStyle(color);\r\n        play.getScene().lookup(id1).setStyle(color);\r\n        play.getScene().lookup(id2).setStyle(color);\r\n    }\r\n    @FXML // return to initial colors\r\n    protected void baseColor(MouseEvent event) {\r\n        int index = Integer.parseInt(((AnchorPane)event.getSource()).getId().substring(4));\r\n        int x = index % 100, y = index / 100;\r\n        if (x % 2 == 0 && y % 2 == 0)\r\n            ((AnchorPane) event.getSource()).setStyle(\"-fx-background-color: maroon\");\r\n        else {\r\n            ((AnchorPane) event.getSource()).setStyle(\"-fx-background-color: chocolate\");\r\n            String id1 = \"#cell\";\r\n            String id2 = \"#cell\";\r\n            if (y % 2 == 1) {\r\n                String y_value = ((y < 10) ? \"0\" + y : y).toString();\r\n                id1 += y_value + ((x + 1 < 10) ? \"0\" + (x + 1) : x + 1);\r\n                id2 += y_value + ((x + 2 < 10) ? \"0\" + (x + 2) : x + 2);\r\n            }\r\n            else {\r\n                String x_value = ((x < 10) ? \"0\" + x : x).toString();\r\n                id1 += ((y + 1 < 10) ? \"0\" + (y + 1) : y + 1) + x_value;\r\n                id2 += ((y + 2 < 10) ? \"0\" + (y + 2) : y + 2) + x_value;\r\n            }\r\n            play.getScene().lookup(id1).setStyle(\"-fx-background-color: firebrick\");\r\n            play.getScene().lookup(id2).setStyle(\"-fx-background-color: chocolate\");\r\n        }\r\n    }\r\n    // do the winner stuff\r\n    private void win() {\r\n        Player winner = board.win();\r\n        if (winner == null) {\r\n            return;\r\n        }\r\n\r\n        Label winner_info;\r\n        Label loser_info;\r\n        if (winner.getId() == 'U') {\r\n            winner_info = player1info;\r\n            loser_info = player2info;\r\n        }\r\n        else {\r\n            winner_info = player2info;\r\n            loser_info = player1info;\r\n        }\r\n\r\n        winner_info.setFont(new Font(winner_info.getFont().getStyle(), 20));\r\n        winner_info.setText(\"You Won!!\");\r\n        loser_info.setFont(new Font(loser_info.getFont().getStyle(), 20));\r\n        loser_info.setText(\"You Lost :)\");\r\n\r\n        for (int i = 0; i < 17; ++i)\r\n            for (int j = 0; j < 17; j++) {\r\n                String id = \"#cell\" + ((i < 10) ? \"0\" + i : i) + ((j < 10) ? \"0\" + j : j);\r\n                AnchorPane cell = (AnchorPane) (play.getScene().lookup(id));\r\n                // remove functionality\r\n                cell.setOnMouseClicked(null);\r\n                cell.setOnMouseEntered(null);\r\n                cell.setOnMouseExited(null);\r\n            }\r\n    }\r\n    @FXML\r\n    protected void save() { FileManager.save(board); }\r\n\r\n    // shall be changed load object\r\n    @FXML protected ListView<String> load_files;\r\n    // load methods\r\n    @FXML\r\n    protected void gotoLoad() throws IOException { play.gotoFXML(\"load.fxml\"); initializeLoad(); }\r\n\r\n    private void initializeLoad() {\r\n        load_files = (ListView<String>) play.getScene().lookup(\"#load_files\");\r\n        ArrayList<String[]> files = FileManager.load();\r\n\r\n        for (String[] details : files)\r\n            load_files.getItems().add(details[1] + '\\t' + details[2] + '\\t' + details[0]);\r\n\r\n        load_files.setOnMouseClicked(event -> {\r\n            String file_name = load_files.getSelectionModel().getSelectedItem().split(\"\\t\")[2];\r\n            if (FileManager.load(new File(System.getProperty(\"user.dir\") + \"/load/\" + file_name + \".csv\"), this))\r\n                try {\r\n                    gotoGame();\r\n                } catch (IOException ioException) {\r\n                    ioException.printStackTrace();\r\n                }\r\n            else\r\n                System.out.println(\"Something went wrong\");\r\n        });\r\n    }\r\n\r\n    // menu methods\r\n    @FXML\r\n    protected void gotoMenu() throws IOException { play.gotoFXML(\"mainMenu.fxml\"); }\r\n\r\n    @FXML\r\n    protected void Exit() { play.getPrimaryStage().close(); }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- Quoridor/src/graphics/Controller.java	(revision 4c3c8f2d9e050f0b7436044fcb83802cc9f85e05)
+++ Quoridor/src/graphics/Controller.java	(date 1596600230067)
@@ -20,9 +20,7 @@
 public class Controller {
     private Play play;
     private Board board;
-    public void setPlay(Play play) {
-        this.play = play;
-    }
+    public void setPlay(Play play) { this.play = play; }
     public void setBoard(Board board) { this.board = board; }
     // shall be changed game objects
     @FXML protected AnchorPane game_pane;
Index: .idea/libraries/lib.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- .idea/libraries/lib.xml	(revision 4c3c8f2d9e050f0b7436044fcb83802cc9f85e05)
+++ .idea/libraries/lib.xml	(revision 4c3c8f2d9e050f0b7436044fcb83802cc9f85e05)
@@ -1,13 +0,0 @@
-<component name="libraryTable">
-  <library name="lib">
-    <CLASSES>
-      <root url="file://$PATH_TO_FX$" />
-    </CLASSES>
-    <JAVADOC />
-    <SOURCES>
-      <root url="file://$PATH_TO_FX$" />
-    </SOURCES>
-    <jarDirectory url="file://$PATH_TO_FX$" recursive="false" />
-    <jarDirectory url="file://$PATH_TO_FX$" recursive="false" type="SOURCES" />
-  </library>
-</component>
\ No newline at end of file
Index: AP-Project.iml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<module type=\"JAVA_MODULE\" version=\"4\">\r\n  <component name=\"NewModuleRootManager\" inherit-compiler-output=\"true\">\r\n    <exclude-output />\r\n    <content url=\"file://$MODULE_DIR$\">\r\n      <sourceFolder url=\"file://$MODULE_DIR$/Quoridor/src\" isTestSource=\"false\" />\r\n    </content>\r\n    <orderEntry type=\"inheritedJdk\" />\r\n    <orderEntry type=\"sourceFolder\" forTests=\"false\" />\r\n    <orderEntry type=\"library\" name=\"lib\" level=\"project\" />\r\n    <orderEntry type=\"library\" name=\"org.jgrapht:jgrapht-core:1.5.0\" level=\"project\" />\r\n  </component>\r\n</module>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- AP-Project.iml	(revision 4c3c8f2d9e050f0b7436044fcb83802cc9f85e05)
+++ AP-Project.iml	(date 1596600166917)
@@ -7,7 +7,7 @@
     </content>
     <orderEntry type="inheritedJdk" />
     <orderEntry type="sourceFolder" forTests="false" />
-    <orderEntry type="library" name="lib" level="project" />
     <orderEntry type="library" name="org.jgrapht:jgrapht-core:1.5.0" level="project" />
+    <orderEntry type="library" name="JavaFX" level="project" />
   </component>
 </module>
\ No newline at end of file
Index: .idea/libraries/JavaFX.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- .idea/libraries/JavaFX.xml	(date 1596600157330)
+++ .idea/libraries/JavaFX.xml	(date 1596600157330)
@@ -0,0 +1,13 @@
+<component name="libraryTable">
+  <library name="JavaFX">
+    <CLASSES>
+      <root url="file://C:/javafx-sdk-14.0.1/lib" />
+    </CLASSES>
+    <JAVADOC />
+    <SOURCES>
+      <root url="file://C:/javafx-sdk-14.0.1/lib" />
+    </SOURCES>
+    <jarDirectory url="file://C:/javafx-sdk-14.0.1/lib" recursive="false" />
+    <jarDirectory url="file://C:/javafx-sdk-14.0.1/lib" recursive="false" type="SOURCES" />
+  </library>
+</component>
\ No newline at end of file
